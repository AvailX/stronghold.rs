<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js iota">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Client - IOTA Stronghold</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "iota";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('iota')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="../overview/index.html"><strong aria-hidden="true">2.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../structure/index.html"><strong aria-hidden="true">3.</strong> Structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../structure/client.html" class="active"><strong aria-hidden="true">3.1.</strong> Client</a></li><li class="chapter-item expanded "><a href="../structure/engine.html"><strong aria-hidden="true">3.2.</strong> Engine</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../structure/snapshot.html"><strong aria-hidden="true">3.2.1.</strong> Snapshot</a></li><li class="chapter-item expanded "><a href="../structure/vault.html"><strong aria-hidden="true">3.2.2.</strong> Vault</a></li><li class="chapter-item expanded "><a href="../structure/store.html"><strong aria-hidden="true">3.2.3.</strong> Store</a></li><li class="chapter-item expanded "><a href="../structure/runtime.html"><strong aria-hidden="true">3.2.4.</strong> Runtime</a></li></ol></li><li class="chapter-item expanded "><a href="../structure/communication.html"><strong aria-hidden="true">3.3.</strong> Communication</a></li><li class="chapter-item expanded "><a href="../structure/derive.html"><strong aria-hidden="true">3.4.</strong> Derive</a></li><li class="chapter-item expanded "><a href="../structure/utils.html"><strong aria-hidden="true">3.5.</strong> Utils</a></li></ol></li><li class="chapter-item expanded "><a href="../products/index.html"><strong aria-hidden="true">4.</strong> Products</a></li><li class="chapter-item expanded "><a href="../specs/index.html"><strong aria-hidden="true">5.</strong> Specification</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../specs/scope.html"><strong aria-hidden="true">5.1.</strong> Scope</a></li><li class="chapter-item expanded "><a href="../specs/engineering.html"><strong aria-hidden="true">5.2.</strong> Engineering</a></li></ol></li><li class="chapter-item expanded "><a href="../retrospective/index.html"><strong aria-hidden="true">6.</strong> Retrospective</a></li><li class="chapter-item expanded "><a href="../contribute.html"><strong aria-hidden="true">7.</strong> Contribute</a></li><li class="chapter-item expanded "><a href="../https://github.com/iotaledger/stronghold.html"><strong aria-hidden="true">8.</strong> Github</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">IOTA Stronghold</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/iotaledger/stronghold.rs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="structure-client"><a class="header" href="#structure-client">Structure: Client</a></h1>
<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td><a href="https://github.com/iotaledger/stronghold.rs/tree/dev/client"><img src="https://img.shields.io/badge/github-source-blue.svg" alt="github" /></a></td><td><a href="https://docs.rs/iota_stronghold"><img src="https://img.shields.io/badge/rust-docs-green.svg" alt="github" /></a></td><td><a href="https://crates.io/crates/iota_stronghold"><img src="https://img.shields.io/crates/v/iota_stronghold.svg" alt="" /></a></td></tr>
</tbody></table>
<h2 id="stronghold-client"><a class="header" href="#stronghold-client">Stronghold Client</a></h2>
<p>This is the official client layer of Stronghold. It provides a Riker actor model system for easy Interface as well as functional passthrough to Stronghold's internal actor system for integrators not using Riker. </p>
<p><strong>Stronghold Interface</strong>: </p>
<ul>
<li><code>init_stronghold_system</code>: Initializes a new instance of the Stronghold system.  Sets up the first client actor. Accepts a <code>ActorSystem</code>, the first <code>client_path</code>: <code>Vec&lt;u8&gt;</code> and any <code>StrongholdFlags</code> which pertain to the first actor.</li>
<li><code>spawn_stronghold_actor</code>:  Spawns a new set of actors for the Stronghold system. Accepts the <code>client_path</code>: <code>Vec&lt;u8&gt;</code> and the options: <code>StrongholdFlags</code></li>
<li><code>switch_actor_target</code>: Switches the actor target to another actor in the system specified by the <code>client_path</code>: <code>Vec&lt;u8&gt;</code>.</li>
<li><code>write_to_vault</code>:  Writes data into the Stronghold. Uses the current target actor as the client and writes to the specified location of <code>Location</code> type. The payload must be specified as a <code>Vec&lt;u8&gt;</code> and a <code>RecordHint</code> can be provided. Also accepts <code>VaultFlags</code> for when a new Vault is created.</li>
<li><code>write_to_store</code>: Writes data into an insecure cache. This method, accepts a <code>Location</code>, a <code>Vec&lt;u8&gt;</code> and an optional <code>Duration</code>. The lifetime allows the data to be deleted after the specified duration has passed. If not lifetime is specified, the data will persist until it is manually deleted or over-written. Each store is mapped to a client. </li>
<li><code>read_from_store</code>: Reads from an insecure cache. This method, accepts a <code>Location</code> and returns the payload in the
form of a <code>Vec&lt;u8&gt;</code>.  If the location does not exist, an empty vector will be returned along with an error <code>StatusMessage</code>.</li>
<li><code>delete_from_store</code> - delete data from an insecure cache. This method, accepts a <code>Location</code> and returns a <code>StatusMessage</code>.</li>
<li><code>delete_data</code>: Revokes the data from the specified location of type <code>Location</code>. Revoked data is not readable and can be removed from a vault with a call to <code>garbage_collect</code>.  if the <code>should_gc</code> flag is set to <code>true</code>, this call with automatically cleanup the revoke. Otherwise, the data is just marked as revoked. </li>
<li><code>garbage_collect</code>: Garbage collects any revokes in a Vault based on the given vault_path and the current target actor.</li>
<li><code>list_hints_and_ids</code>: Returns a list of the available <code>RecordId</code> and <code>RecordHint</code> values in a vault by the given <code>vault_path</code>. </li>
<li><code>runtime_exec</code>: Executes a runtime command given a <code>Procedure</code>.  Returns a <code>ProcResult</code> based off of the <code>control_request</code> specified.</li>
<li><code>record_exists</code>: Checks whether a record exists in the client based off of the given <code>Location</code>.</li>
<li><code>vault_exists</code>: Checks whether a vault exists in the client by <code>Location</code>.</li>
<li><code>read_snapshot</code>: Reads data from a given snapshot file. Can only read the data for a single <code>client_path</code> at a time. If the actor uses a new <code>client_path</code> the former client path may be passed into the function call to read the data into the new actor. A filename and filepath can be specified, if they aren't provided, the path defaults to <code>$HOME/.stronghold/snapshots/</code> and the filename defaults to <code>backup.stronghold</code>.
Also requires keydata to unlock the snapshot and the keydata must implement and use <code>Zeroize</code>.</li>
<li><code>write_all_to_snapshot</code>:  Writes the entire state of the <code>Stronghold</code> into a snapshot. All Actors and their associated data is written into the specified snapshot. Requires keydata to encrypt the snapshot. The Keydata should implement and use Zeroize.  If a path and filename are not provided, uses the default path <code>$HOME/.stronghold/snapshots/</code> and the default filename <code>backup.stronghold</code>.</li>
<li><code>kill_stronghold</code>: Used to kill a stronghold actor or clear the cache of that actor. Accepts the <code>client_path</code>, and a boolean for whether or not to kill the actor.  If <code>kill_actor</code> is <code>true</code> both the internal actor and the client actor are killed. Otherwise, the cache is cleared from the client and internal actor. </li>
</ul>
<p><strong>Stronghold Procedures</strong>:</p>
<h5 id="requests"><a class="header" href="#requests"><strong>Requests</strong>:</a></h5>
<ul>
<li><code>SLIP10Generate</code>: Generate a raw SLIP10 seed of the specified size (in bytes, defaults to 64 bytes/512 bits) and store it in the <code>Location</code>. </li>
<li><code>SLIP10Derive</code>: Derive a Slip10 child key from a seed or parent key. Store the output in a specified <code>Location</code> and return the corresponding <code>ChainCode</code>. </li>
<li><code>BIP39Recover</code>: Use a BIP39 mnemonic sentence (optionally protected by a passphrase) to create or recover a BIP39 seed and store it in the output <code>Location</code>.</li>
<li><code>BIP39Generate</code>: Generate a BIP39 seed and its corresponding mnemonic sentence (optionally protected by a passphrase) and store them in the output <code>Location</code>.</li>
<li><code>BIP39MnemonicSentence</code>: Read a BIP39 seed and its corresponding mnemonic sentence (optionally protected by a passphrase) and store them in the output <code>Location</code>.</li>
<li><code>Ed25519PublicKey</code>: Derive an Ed25519 public key from the corresponding private key stored at the specified <code>Location</code>.</li>
<li><code>Ed25519Sign</code>: Use the specified Ed25519 compatible key to sign the given message. Compatible keys are any record that contain the desired key material in the first 32 bytes, in particular SLIP10 keys are compatible.</li>
</ul>
<h5 id="responses"><a class="header" href="#responses"><strong>Responses</strong>:</a></h5>
<ul>
<li><code>SLIP10Generate</code>: Returns a <code>StatusMessage</code> indicating the result of the request. </li>
<li><code>SLIP10Derive</code>: Returns a <code>ResultMessage</code> with the <code>ChainCode</code> inside of it. </li>
<li><code>BIP39Recover</code>: Returns a <code>StatusMessage</code> indicating the result of the request. .</li>
<li><code>BIP39Generate</code>: Returns a <code>StatusMessage</code> indicating the result of the request.</li>
<li><code>BIP39MnemonicSentence</code>: Returns the mnemonic sentence for the corresponding seed.</li>
<li><code>Ed25519PublicKey</code>: Returns an Ed25519 public key inside of a <code>ResultMessage</code>.</li>
<li><code>Ed25519Sign</code>: Returns an Ed25519 signature inside of a <code>ResultMessage</code>.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../structure/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../structure/engine.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../structure/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../structure/engine.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
